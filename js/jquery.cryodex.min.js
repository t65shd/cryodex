!function(t,e,a,r){function n(e,a){this.element=e,this.options=t.extend({},s,a),this._defaults=s,this._name=o,this.init()}var o="cryodex",s={baseColors:{base1:"#666",base2:"#888",base3:"#aaa",base4:"#ccc"},colors:{}};n.prototype={init:function(){switch(t(this.element).attr("data-cryodex-widget")){case"gauge":this._gauge();break;case"doughnut":this._doughnut();break;case"bar":this._bar();break;case"line":this._line()}},_getColor:function(t){return"undefined"!=typeof this.options.baseColors[t]&&(t=this.options.baseColors[t]),"undefined"!=typeof this.options.colors[t]&&(t=this.options.colors[t]),t},_getColorAlpha:function(t,e){return t=this._getColor(t),"rgba("==t.substr(0,5)?(rgb=t.replace("rgba(","").replace(")",""),rgb=rgb.split(","),t="rgba("+rgb[0]+","+rgb[1]+","+rgb[2]+","+e+")"):"rgb("==t.substr(0,4)?(rgb=t.replace("rgb(","").replace(")",""),rgb=rgb.split(","),t="rgba("+rgb[0]+","+rgb[1]+","+rgb[2]+","+e+")"):/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)&&(c=t.substring(1).split(""),3==c.length&&(c=[c[0],c[0],c[1],c[1],c[2],c[2]]),c="0x"+c.join(""),t="rgba("+[c>>16&255,c>>8&255,255&c].join(",")+","+e+")"),t},_gauge:function(){var e=.75*t(this.element).attr("data-percent"),a=75-e,r=this._getColor(t(this.element).attr("data-color"));t(this.element).append("<canvas />"),this.chart=new Chart(t("canvas",this.element),{type:"doughnut",responsive:!0,data:{labels:["Complete",null],datasets:[{label:"progress",data:[e,a,25],backgroundColor:[r,"#ddd","transparent"],hoverBackgroundColor:[r,"#ddd","transparent"],borderWidth:0}]},options:{legend:{display:!1},tooltips:{enabled:!1},cutoutPercentage:70,rotation:.75*Math.PI}})},_doughnut:function(){var e=this,a=t("table",this.element).eq(0).hide(),r=new Array;t("thead th",a).each(function(){r.push(t(this).text())});var n=new Array;t("tbody tr",a).each(function(){var a=new Object;a.label=t(this).attr("data-label"),a.data=new Array,a.backgroundColor=new Array,t("td",this).each(function(){a.data.push(t(this).text()),a.backgroundColor.push(e._getColor(t(this).attr("data-color")))}),a.borderWidth=0,n.push(a)}),t(this.element).append("<canvas />"),this.chart=new Chart(t("canvas",this.element),{type:"doughnut",responsive:!0,data:{labels:r,datasets:n},options:{legend:{position:"left"}}})},_bar:function(){var e=this,a=t("table",this.element).eq(0).hide(),r=new Array;t("thead th",a).each(function(){r.push(t(this).text())});var n=new Array;t("tbody tr",a).each(function(){var a=new Object;a.label=t(this).attr("data-label"),a.data=new Array,a.backgroundColor=new Array,t("td",this).each(function(){a.data.push(t(this).text()),a.backgroundColor.push(e._getColor(t(this).attr("data-color")))}),a.borderWidth=0,n.push(a)}),t(this.element).append("<canvas />"),this.chart=new Chart(t("canvas",this.element),{type:"bar",responsive:!0,data:{labels:r,datasets:n},options:{legend:{display:!1}}})},_line:function(){var e=this,a=t("table",this.element).eq(0).hide(),r=new Array;t("thead th",a).each(function(){r.push(t(this).text())});var n=new Array;t("tbody tr",a).each(function(){var a=new Object;a.label=t(this).attr("data-label"),a.data=new Array,a.pointRadius=3,a.pointHoverRadius=5;var r=e._getColor(t(this).attr("data-color"));a.pointBackgroundColor=r,a.borderColor=r,a.pointBorderColor="#fff",a.pointHitRadius=20,"undefined"!=typeof t(this).attr("data-fill")&&(a.backgroundColor=e._getColorAlpha(t(this).attr("data-color"),.6)),t("td",this).each(function(){a.data.push(t(this).text())}),n.push(a)}),t(this.element).append("<canvas />"),this.chart=new Chart(t("canvas",this.element),{type:"line",responsive:!0,data:{labels:r,datasets:n},options:{legend:{display:!1},tooltips:{mode:"x-axis"},hover:{mode:"x-axis"}}})}},t.fn[o]=function(e){return t("[data-cryodex-widget]",this).each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new n(this,e))})}}(jQuery,window,document);